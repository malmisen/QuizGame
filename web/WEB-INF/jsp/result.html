<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Result</title>
        <meta charset="UTF-8"></meta>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"/>
    </head>
    <body>
        
        <div class="container">
            <div class="container-fluid">
                <h3>Category: <span th:text="${category}"/></h3>
                <h4>Difficulty: <span th:text="${difficulty}"/></h4>
                         
                            <div th:if="score!=${score}" class="alert alert-success" role="alert">
                                <h4 class="alert-heading">Well done!</h4>
                                <hr/>
                                <h5>Your score: <span th:text="${score}"></span></h5>
                                <p class="mb-0">If, you ain't satisfied you can always try again, or save the quiz and try again later? </p>
                            </div>
                  
            </div>
   
        <form th:action="@{/result}" th:object="${quiz}" method="POST">
             <input type="hidden" name="QuizId" th:value="${quiz.getId()}"/>
             <input type="hidden" name="userId" th:value="${userId}"/>
             <input type="hidden" name="difficulty" th:value="${difficulty}"/>
             <input type="hidden" name="category" th:value="${category}"/>
             <ul class="list-group">
                 <li th:each="question: ${quiz.getQuestions()}" class="list-group-item">
                     <h2 th:text="${question.getQuestion()}"></h2>
                     
                     
                     
                     <ul class="list-group">
                        
                         <li th:each="alternative: ${question.getAlternativesList()}" class="list-group-item">
                            
                             <input th:if="true==${alternative.getChecked()}" 
                                    type="checkbox" 
                                    th:name="${question.getQuestionId()}" 
                                    th:value="${alternative.getAlternative()}" 
                                    checked="true"/>
                             
                             <input th:if="true!=${alternative.getChecked()}" 
                                    type="checkbox" 
                                    th:name="${question.getQuestionId()}" 
                                    th:value="${alternative.getAlternative()}"/>
 
                             <label th:if="${alternative.getChecked()==true} and ${question.getIsCorrectlyAnswered()==true}" 
                                    th:syle='background-color: green'
                                    th:text="${alternative.getAlternative()}"
                                    class="p-3 mb-2 bg-success text-white"
                                    >
        
                             </label>
                             <label th:if="${alternative.getChecked()==true} and ${question.getIsCorrectlyAnswered()==false}" 
                                    th:syle='background-color: red'
                                    th:text="${alternative.getAlternative()}"
                                    class="p-3 mb-2 bg-danger text-white"
                                    >
                             
                             </label>
                             <label th:if="${alternative.getChecked()==false}"
                                    th:text="${alternative.getAlternative()}"
                                    />
                         </li>
                     </ul>
                 </li>
             </ul>
             <button type="submit" name="action" value="save" class="btn btn-primary">Save</button>
        </form>
        </div>
    </body>
</html>
