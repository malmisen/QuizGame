<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Result</title>
        <meta charset="UTF-8"></meta>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"/>
    </head>
    <body>
        
        <div class="container">
            <h1>Category: <span th:text="${category}"></span> </h1>
            <h1>Difficulty: <span th:text="${difficulty}"></span></h1>
            <h2 th:if="score!=${score}">Your score: <span th:text="${score}"></span></h2>
       
        <form th:action="@{/result}" th:object="${quiz}" method="POST">
             <input type="hidden" name="QuizId" th:value="${quiz.getId()}"/>
             <input type="hidden" name="userId" th:value="${userId}"/>
             <input type="hidden" name="difficulty" th:value="${difficulty}"/>
             <input type="hidden" name="category" th:value="${category}"/>
             <ul class="list-group">
                 <li th:each="question: ${quiz.getQuestions()}" class="list-group-item">
                     <h2 th:text="${question.getQuestion()}"></h2>
                     
                     
                     
                     <ul class="list-group">
                        
                         <li th:each="alternative: ${question.getAlternativesList()}" class="list-group-item">
                            
                             <input th:if="true==${alternative.getChecked()}" 
                                    type="checkbox" 
                                    th:name="${question.getQuestionId()}" 
                                    th:value="${alternative.getAlternative()}" 
                                    checked="true"/>
                             
                             <input th:if="true!=${alternative.getChecked()}" 
                                    type="checkbox" 
                                    th:name="${question.getQuestionId()}" 
                                    th:value="${alternative.getAlternative()}"/>
 
                             <label th:if="${alternative.getChecked()==true} and ${question.getIsCorrectlyAnswered()==true}" 
                                    th:syle='background-color: green'
                                    th:text="${alternative.getAlternative()}"
                                    class="p-3 mb-2 bg-success text-white"
                                    >
        
                             </label>
                             <label th:if="${alternative.getChecked()==true} and ${question.getIsCorrectlyAnswered()==false}" 
                                    th:syle='background-color: red'
                                    th:text="${alternative.getAlternative()}"
                                    class="p-3 mb-2 bg-danger text-white"
                                    >
                             
                             </label>
                             <label th:if="${alternative.getChecked()==false}"
                                    th:text="${alternative.getAlternative()}"
                                    />
                         </li>
                     </ul>
                 </li>
             </ul>
             <button type="submit" name="action" value="submit" >Leave</button>
             <button type="submit" name="action" value="save" >Save</button>
        </form>
        </div>
    </body>
</html>
